<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Import | EclipseSLM</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="Eclipse Service Lifecycle Management">
    
    <link rel="preload" href="/slm//assets/css/0.styles.284675aa.css" as="style"><link rel="preload" href="/slm//assets/js/app.0bdf69f5.js" as="script"><link rel="preload" href="/slm//assets/js/3.ef23574c.js" as="script"><link rel="preload" href="/slm//assets/js/2.5cbe17a9.js" as="script"><link rel="preload" href="/slm//assets/js/34.c8cd19d7.js" as="script"><link rel="prefetch" href="/slm//assets/js/1.82e44235.js"><link rel="prefetch" href="/slm//assets/js/12.86f92c00.js"><link rel="prefetch" href="/slm//assets/js/13.1da6193a.js"><link rel="prefetch" href="/slm//assets/js/14.114a0d4a.js"><link rel="prefetch" href="/slm//assets/js/15.61ff878e.js"><link rel="prefetch" href="/slm//assets/js/16.5e39a55f.js"><link rel="prefetch" href="/slm//assets/js/17.6a10c530.js"><link rel="prefetch" href="/slm//assets/js/18.4708460d.js"><link rel="prefetch" href="/slm//assets/js/19.8c04ee61.js"><link rel="prefetch" href="/slm//assets/js/20.95c35a12.js"><link rel="prefetch" href="/slm//assets/js/21.87086343.js"><link rel="prefetch" href="/slm//assets/js/22.2498e7bb.js"><link rel="prefetch" href="/slm//assets/js/23.92a7c07b.js"><link rel="prefetch" href="/slm//assets/js/24.c5f297ae.js"><link rel="prefetch" href="/slm//assets/js/25.7db9d804.js"><link rel="prefetch" href="/slm//assets/js/26.992daee8.js"><link rel="prefetch" href="/slm//assets/js/27.e1d21717.js"><link rel="prefetch" href="/slm//assets/js/28.1f78c039.js"><link rel="prefetch" href="/slm//assets/js/29.701c5d8c.js"><link rel="prefetch" href="/slm//assets/js/30.88817184.js"><link rel="prefetch" href="/slm//assets/js/31.d8f530b6.js"><link rel="prefetch" href="/slm//assets/js/32.6b84a7dd.js"><link rel="prefetch" href="/slm//assets/js/33.ae8b34e4.js"><link rel="prefetch" href="/slm//assets/js/35.3e2915a7.js"><link rel="prefetch" href="/slm//assets/js/36.dce39cbf.js"><link rel="prefetch" href="/slm//assets/js/37.7c3a445d.js"><link rel="prefetch" href="/slm//assets/js/38.824400b1.js"><link rel="prefetch" href="/slm//assets/js/39.417cffd6.js"><link rel="prefetch" href="/slm//assets/js/4.c6e56488.js"><link rel="prefetch" href="/slm//assets/js/40.b249ea10.js"><link rel="prefetch" href="/slm//assets/js/41.cd722f8c.js"><link rel="prefetch" href="/slm//assets/js/42.e66a7f69.js"><link rel="prefetch" href="/slm//assets/js/43.6c6346d8.js"><link rel="prefetch" href="/slm//assets/js/44.827cf222.js"><link rel="prefetch" href="/slm//assets/js/45.0dc65274.js"><link rel="prefetch" href="/slm//assets/js/5.09b20259.js"><link rel="prefetch" href="/slm//assets/js/6.2826bf55.js"><link rel="prefetch" href="/slm//assets/js/7.7fe68f4e.js"><link rel="prefetch" href="/slm//assets/js/8.8b7f516f.js"><link rel="prefetch" href="/slm//assets/js/9.ba0135a1.js"><link rel="prefetch" href="/slm//assets/js/vendors~docsearch.5a8a5240.js">
    <link rel="stylesheet" href="/slm//assets/css/0.styles.284675aa.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/slm/" class="home-link router-link-active"><img src="/slm//img/logo.svg" alt="EclipseSLM" class="logo"></a> <!----> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/slm/" class="nav-link">
  Home
</a></div> <a href="https://github.com/eclipse-slm/slm" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/slm/" class="nav-link">
  Home
</a></div> <a href="https://github.com/eclipse-slm/slm" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Getting Started</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/slm/docs/getting-started/" aria-current="page" class="sidebar-link">Welcome</a></li><li><a href="/slm/docs/getting-started/overview/" class="sidebar-link">Overview</a></li><li><a href="/slm/docs/getting-started/architecture/" class="sidebar-link">Architecture</a></li><li><a href="/slm/docs/getting-started/installation/" class="sidebar-link">Installation</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/slm/docs/getting-started/first-steps/" class="sidebar-heading clickable"><span>First Steps</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/slm/docs/getting-started/import/" aria-current="page" class="active sidebar-link">Import</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/slm/docs/getting-started/import/#service-registry" class="sidebar-link">Service Registry</a></li><li class="sidebar-sub-header"><a href="/slm/docs/getting-started/import/#resource-registry" class="sidebar-link">Resource Registry</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Usage</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Development</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="import"><a href="#import" class="header-anchor">#</a> Import</h1> <p>After initial setup, publicly available content (e.g., service offerings) can be imported into your instance of the Service Lifecycle Management.</p> <h2 id="service-registry"><a href="#service-registry" class="header-anchor">#</a> Service Registry</h2> <p>To import content into the Service Registry of the Service Lifecycle Management local directories or git repositories can be used. See the two sections below for more information how to configure import from local directories or git repositories. The import can be started using this command:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">docker-compose</span> up --force-recreate service-registry-init
</code></pre></div><h3 id="local-directories"><a href="#local-directories" class="header-anchor">#</a> Local Directories</h3> <p>Update in the <code>.env</code> file in the <code>compose</code> directory the variable <code>SERVICE_REGISTRY_INITIALIZATION_LOCAL_DIRECTORIES</code> with your directories. Multiple directories must be seperated by comma. The defined directories must be added as volumes to the <code>service-registry-init</code> service in the <code>docker-compose.yml</code>.</p> <p>Example of <code>.env</code>:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token assign-left variable">SERVICE_REGISTRY_INITIALIZATION_LOCAL_DIRECTORIES</span><span class="token operator">=</span>/my/local/dir1,/my/local/dir2
</code></pre></div><p>Example of <code>docker-compose.yml</code>:</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token punctuation">...</span>
  <span class="token key atrule">service-registry-init</span><span class="token punctuation">:</span>
    <span class="token punctuation">...</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
    <span class="token punctuation">...</span>
    <span class="token punctuation">-</span> <span class="token string">&quot;/my/local/dir1:/my/local/dir1&quot;</span>
    <span class="token punctuation">-</span> <span class="token string">&quot;/my/local/dir2:/my/local/dir2&quot;</span>
<span class="token punctuation">...</span>
</code></pre></div><h3 id="git-repositories"><a href="#git-repositories" class="header-anchor">#</a> Git Repositories</h3> <p>Update in the <code>.env</code> file in the <code>compose</code> directory the variable <code>SERVICE_REGISTRY_INITIALIZATION_GIT_REPOS</code> with your git repositories. Default value is the public <a href="https://github.com/FabOS-AI/fabos-slm-service-registry-content" target="_blank" rel="noopener noreferrer">service registry content repository<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. Multiple git repositories must be seperated by comma. Authentication for a git repository can be defined in the form <code>{Username}:{PasswordOrAccessToken}@{RepoUrl}</code>.</p> <p>Example:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token assign-left variable">SERVICE_REGISTRY_INITIALIZATION_GIT_REPOS</span><span class="token operator">=</span>https://github.com/FabOS-AI/fabos-slm-service-registry-content.git,myGitUser:myGitUserPassword@https://my-private-git-repo.git
</code></pre></div><h2 id="resource-registry"><a href="#resource-registry" class="header-anchor">#</a> Resource Registry</h2> <p>To populate the Resource Registry of the Service Lifecycle Management with an already available list of known, a simple utility tool can be used to speed up the process. The tool can be found on <a href="https://github.com/FabOS-AI/fabos-slm-resource-registry-init" target="_blank" rel="noopener noreferrer">GitHub<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. In the current version, the tool parses a given <strong>Excel file</strong> and populates the Resource Registry with the contained resources.</p> <div class="custom-block warning"><p class="custom-block-title">ATTENTION</p> <p>The tool was initially only intended for a quick repopulation of the Resource Registry in demo setups. Consequently, the tool is rudimentary in design and will be changed in the future in order to be more aligned with the SLM base setup and components.</p></div> <p>Since the tool interacts with the REST-API of the <code>Resource Registry</code>, to use the tool just clone the repo into any directory:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">git</span> clone https://github.com/FabOS-AI/fabos-slm-resource-registry-init <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> fabos-slm-resource-registry-init
</code></pre></div><p>Now the Excel file <code>example.xlsx</code> needs to be adapted to the list of resources to be added to the Resource Registry. There are two example devices listed to familiarize with the pattern. The following fields are definitely required to be filled (per device):</p> <table><thead><tr><th><strong>variable</strong></th> <th><strong>type</strong></th> <th><strong>description</strong></th></tr></thead> <tbody><tr><td>Device</td> <td>string</td> <td>An arbitrary device name, for easier reference</td></tr> <tr><td>user</td> <td>string</td> <td>The user name of the resource, in order to be accessed</td></tr> <tr><td>password</td> <td>string</td> <td>The password of the corresponding user</td></tr> <tr><td>hostname</td> <td>string</td> <td>The hostname of the resource</td></tr> <tr><td>eth0 IP</td> <td>string</td> <td>The IP of the resource. Additionally, eth1 IP can be filled as well, but eth0 will be prefered</td></tr> <tr><td>is_resource</td> <td>string</td> <td>A flag that determines if device is added to the resource registry. Set it to &quot;yes&quot; in order to be added</td></tr> <tr><td>UUID</td> <td>string</td> <td>The UUID of the resource, can be generated externally</td></tr></tbody></table> <p>Additionally, following flags can be used to trigger the install of an capability for the resource (optional):</p> <table><thead><tr><th><strong>variable</strong></th> <th><strong>type</strong></th> <th><strong>description</strong></th></tr></thead> <tbody><tr><td>DC_Docker</td> <td>string</td> <td>If set to &quot;yes&quot;, Docker capability will be added to resource</td></tr> <tr><td>DC_Swarm</td> <td>string</td> <td>If set to &quot;yes&quot;, Swarm capability will be added to resource</td></tr> <tr><td>DC_K3s</td> <td>string</td> <td>If set to &quot;yes&quot;, K3s capability will be added to resource</td></tr></tbody></table> <p>In a second step, the settings for the tool need to be adapted and verified. Therefore open the <code>docker-compose.yaml</code> in a text editor and change the variables in the <code>environment</code>-section accoding to your local environment. When the Service Lifecycle Management was setup through the inital setup, all variables should already be matching the local environment. See the following table for details on the settings:</p> <table><thead><tr><th><strong>variable</strong></th> <th><strong>type</strong> <div style="width:110px;"></div></th> <th><strong>default</strong></th> <th><strong>description</strong> <div style="width:500px;"></div></th></tr></thead> <tbody><tr><td>SLM_HOST</td> <td>string</td> <td>&quot;http://172.17.0.1&quot;</td> <td>The full qualified domain name of the SLM host or IP address, including the http prefix</td></tr> <tr><td>SLM_USER</td> <td>string</td> <td>&quot;fabos&quot;</td> <td>The user to be used to add the resources to the SLM</td></tr> <tr><td>SLM_PASSWORD</td> <td>string</td> <td>&quot;password&quot;</td> <td>The corresponding password for the SLM user</td></tr> <tr><td>XLSX_FILE</td> <td>string</td> <td>&quot;/files/example.xlsx&quot;</td> <td>The Excel file inside the container. On default all file of the cloned directory are mounted under &quot;/files&quot;</td></tr> <tr><td>SHEET_NAME</td> <td>string</td> <td>&quot;DEVICES&quot;</td> <td>The sheet name inside the Excel file which contains the list of resources</td></tr> <tr><td>FORCE_OVERWRITE</td> <td>bool (as string)</td> <td>&quot;False&quot;</td> <td>Determines if resources and their capabilites should be overwritten if they already exist</td></tr> <tr><td>FORCE_DELETE</td> <td>bool (as string)</td> <td>&quot;False&quot;</td> <td>Determines if a resources listed in the EXCEL sheet should be deleted in the first step</td></tr> <tr><td>DELETE_ALL</td> <td>bool (as string)</td> <td>&quot;False&quot;</td> <td>Determines if all resources (not only listed resources in the EXCEL) should be deleted in the first step, to start with a clean resource registry</td></tr> <tr><td>PING_CHECK</td> <td>bool (as string)</td> <td>&quot;False&quot;</td> <td>Determines if resources should be pinged before added to the resource registry</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">ATTENTION</p> <p>Especially in a setup with docker be aware of the correct host used in the <code>SLM_HOST</code> variable. In Docker <strong>localhost</strong> and <strong>127.0.0.1</strong> will not work, instead try the magic internal Docker host <strong>host.docker.internal</strong>, <strong>172.17.0.1</strong> or in best case the regular IP of the host.</p></div> <p>Finally, the tool can be run through Docker. Therefore use Docker-Compose to build and run the tool:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">docker-compose</span> up <span class="token parameter variable">--build</span>
</code></pre></div><p>A successful run of the tool will print a summary at the end of the run. For the given resource in the <code>example.xlsx</code> file, the summary looks like this:</p> <div class="language- extra-class"><pre class="language-text"><code>resource-registry-init  | SUMMARY -------------------------------------------------------------------------------------------------------------------
resource-registry-init  | Resources deleted (via REST): []
resource-registry-init  | Resources accessible (via ping): []
resource-registry-init  | Resources added to registry (via REST): [
resource-registry-init  |   &quot;0226a355-3156-43e8-b51e-3b670c6ba7c3, SOCP2001-20011111, 192.168.153.48&quot;,
resource-registry-init  |   &quot;7fd248f5-e698-46f1-b30e-1ac568d66c15, RevPi30562, 192.168.153.51&quot;
resource-registry-init  | ]
resource-registry-init  | Capabilities added to resources (via REST): [
resource-registry-init  |   &quot;7fd248f5-e698-46f1-b30e-1ac568d66c15, RevPi30562, ['DOCKER']&quot;
resource-registry-init  | ]
resource-registry-init  | Resource Registry Setup Done!
resource-registry-init  | Took: 24.11s
</code></pre></div><p>This indicates that the two listed resources (<code>SOCP2001-20011111</code>, <code>RevPi30562</code>) were successfully added to the Resource Registry and that the <code>Docker</code> capability was also added for the <code>RevPi</code> device.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/slm/docs/getting-started/first-steps/step5/" class="prev">
        Step 5: Deploy a service
      </a></span> <span class="next"><a href="/slm/docs/usage/">
        Overview
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/slm//assets/js/app.0bdf69f5.js" defer></script><script src="/slm//assets/js/3.ef23574c.js" defer></script><script src="/slm//assets/js/2.5cbe17a9.js" defer></script><script src="/slm//assets/js/34.c8cd19d7.js" defer></script>
  </body>
</html>
